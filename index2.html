<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script async src="//www.youtube.com/iframe_api"></script>
</head>
<body>
    <button type="button" id="button">點了會播放</button>
    <br><br>
    <div id="player"></div>
</body>
<script>

    function onYouTubeIframeAPIReady() {
  var player;
  player = new YT.Player('player', {
    videoId: 'GQe7YHqGe8c',   // YouTube 影片ID
    width: '400',            // 播放器寬度 (px)
    height: '400',           // 播放器高度 (px)
    playerVars: {
      autoplay: 1,            // 自動播放影片
      controls: 1,            // 顯示播放器
      showinfo: 0,            // 隱藏影片標題
      modestbranding: 0,      // 隱藏YouTube Logo
      loop: 1,                // 重覆播放
      fs: 0,                  // 隱藏全螢幕按鈕
      cc_load_policty: 0,     // 隱藏字幕
      iv_load_policy: 3,      // 隱藏影片註解
      autohide: 0             // 影片播放時，隱藏影片控制列
    },
    events: {
      onReady: function(e) {
        //e.target.mute();      //播放時靜音
        e.target.playVideo(); //強制播放(手機才會自動播放，但僅限於Android)
      }
    }  
  });
  let yt_autoplay = document.querySelector("#yt_autoplay")
    button.addEventListener("click", function(){
        player.playVideo(); 
    });
 }

 var yt = yt || {};
yt = {
  onPlayerReady: function(event) {
    //綁定撥放按鈕
    $('#button').on("click", function() { 
      yt.playerPlay()
      return false;
    });
  },
  onPlayerStateChange: function(event) { 
    //影片撥放完畢自動關閉
    if (event.data == YT.PlayerState.ENDED) 
      yt.playerClose();
  },
  playerPlay: function() { 
    player.playVideo(); //播放器開始撥放
    //其他影片撥放動作...
  },
  playerClose: function() { 
    player.stopVideo(); //播放器停止撥放
    //其他影片關閉動作...
  }
}
</script>
</html>

